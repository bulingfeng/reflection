## 凯利公式

当前讨论凯利公式是按照最完美的情况，且投资的金额为单位1。比如你投资了1元，那么将会获取b+1元，盈利b元，以此类推如果你投资n元，那么你将会获取n+nb元，且利润为nb元。

如果投资单位1资金，盈利b，输则输光。如下表

| 结果 | 概率 | 盈利(元) |
| ---- | ---- | -------- |
| 成功 | P    | b        |
| 失败 | 1-P  | 0(亏光)  |

那么得到重复多次最优的投资比例为:

```
f=(Pb-(1-P))/b
```

从上述公式中我们可以得出:

```
1. 当Pb-(1-P)<=0的时没有必要投资
2. 当Pb-(1-P)=1时可以all in
3. 其他任何时候都必须按照公式按照一定比例投资
```

**注意事项:**

介于市场上的概率不好预测并且概率也是在不断变化，你的盈利也在不断变化，所以按照上述公式并不一定是最优解。套用**李永乐老师**的一句话：

>如果仅靠一个公式就可以成为巴菲特的话，我早就是巴菲特了。

李永乐老师视频:

```url
https://www.youtube.com/watch?v=v2JGTi5lhY4&t=307s
```

我做了一个凯利公式的页面根据输入数据就会生成图表。

```
http://btcman.club/kelly
```



默认 参数:

```
1. 本金=100
2. 每次投资赢和输的概率都为50%
3. 会连续进行100次投资
```

比如你根据网页填写如下数据获利=20，投资比例 为20%。

```
第一次投资：赢了了获取20*(100*0.2)利润，失败了损失100*0.2
第二次投资：按照上面逻辑以此类推。
```

**注意事项:**

```
比如我写的是获利是2，那么这个时候如果你收益成功了将会获取200%的利益回报。请谨慎的模拟数据。比如我在收益输入框一个随手写了一个100，我的天啊，那么你投入1块钱，你将会获取100倍的利润，也就是10000%的利益回报。所以做了以下的限制:
获利：最小值为0.01即利润是1%(最高支持2位小数)。默认是0.5即回报率为50%，最大值为1000即回报率为100000%。
投资比例:最小为1即投入资金的1%，默认为10即投入资金的10%，最大为100即all in。
```

**最后的最后**

**本项目只是一个理想化的模型，而且是胜负都为50%的情况完成的(这时候的胜率在现实生活中其实已经很高了，自己看看老虎机什么的，抛开暗箱操作不说，每次中奖的概率你你算算多少)。**

